<<<<<<< Updated upstream
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
legend()+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x)), size=1, color=rateColor, show.legend = TRUE) +
geom_point()+ #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff), size=1, color=debtColor, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y)), size=1, color=rateColor1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff), size=1, color=debtColor1, show.legend = TRUE) + #2020 DEBT
scale_color_discrete(name = "debt", labels = c("1", "2", "3", "4"))+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color=rateColor), size=1, show.legend = TRUE) +
geom_point()+ #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color=debtColor), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color=rateColor1), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color=debtColor1), size=1, show.legend = TRUE) + #2020 DEBT
scale_color_discrete(name = "debt", labels = c("1", "2", "3", "4"))+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color=rateColor), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color=debtColor), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color=rateColor1), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color=debtColor1), size=1, show.legend = TRUE) + #2020 DEBT
scale_color_discrete(name = "debt", labels = c("1", "2", "3", "4"))+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
rateColor <- "#69B3A2"
debtColor <- "#718EB6"
rateColor1 = "#277E6B"
debtColor1 = "#305280"
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color=rateColor), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color=debtColor), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color=rateColor1), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color=debtColor1), size=1, show.legend = TRUE) + #2020 DEBT
scale_color_discrete(name = "debt", labels = c("1", "2", "3", "4"))+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
rateColor <- "#69B3A2"
debtColor <- "#718EB6"
rateColor1 = "#277E6B"
debtColor1 = "#305280"
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color=rateColor), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color=debtColor), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color=rateColor1), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color=debtColor1), size=1, show.legend = TRUE) + #2020 DEBT
scale_color_discrete(name = "debt", labels = c("1", "2", "3", "4"))+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
#19 months before, 40 months after the cero period in the financial crisis of august, 2008.
two_gether=full_join(crisis_08, crisis_20, by = "T")
View(two_gether)
#19 months before, 40 months after the cero period in the financial crisis of august, 2008.
two_gether=full_join(crisis_08, crisis_20, by = "T")
two_gether=two_gether[1:40,]
rateColor <- "#69B3A2"
debtColor <- "#718EB6"
rateColor1 = "#277E6B"
debtColor1 = "#305280"
rateColor <- "#69B3A2"
debtColor <- "#718EB6"
rateColor1 = "#277E6B"
debtColor1 = "#305280"
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="rateColor"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="debtColor"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="rateColor1"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="debtColor1"), size=1, show.legend = TRUE) + #2020 DEBT
scale_color_discrete(name = "debt", labels = c("1", "2", "3", "4"))+
=======
#Change of base year
INPC <- read_excel("igae.xlsx", range = "C1:C330",col_names = TRUE)
INPC <- xts(x = INPC, order.by = seq(as.Date("1993-01-01"), length = nrow(INPC), by = "month"))
for(i in 1:329){
if (i==1){
IgaeR<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR <-rbind(IgaeR,as.numeric(igae1[i,])/as.numeric(INPC[i,])*100)
}
}
for(i in 1:329){
if (i==1){
IgaeR<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC[i,])*100)
}
}
for(i in 1:329){
if (i==1){
IgaeR<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC[i,])*100)
}
}
View(IgaeR)
glimpse(IgaeR)
summary(IgaeR)
for(i in 1:329){
if (i==1){
IgaeR_18<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR_18 <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC[i,])*100)
}
}
summary(IgaeR)
for(i in 1:329){
if (i==1){
IgaeR_19<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR_19 <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC[i,])*100)
}
}
for(i in 1:329){
if (i==1){
IgaeR_18<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR_18 <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC[i,])*100)
}
}
summary(IgaeR_18)
#Change of base year
INPC <- read_excel("igae.xlsx", range = "C1:C330",col_names = TRUE)
#We want to change it to July 2019
INPC19<-INPC[,]/103.68700*100 #103.68700 is  July 2019 INPC
#Real Index 2019
for(i in 1:329){
if (i==1){
IgaeR_19<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR_19 <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC[i,])*100)
}
}
summary(IgaeR_19)
#Annualized rate  = (1+ rate between periods)^#periods in a year  *100
for(i in 1:329){
if (i==1){
Annrate<-((1+as.numeric(MoM[i,]))^12)*100
} else {
Annrate <-rbind(Annrate,((1+as.numeric(MoM[i,]))^12)*100)
}
}
glimpse(Annrate)
```{r Real Index, Base Years}
INPC <- xts(x = INPC, order.by = seq(as.Date("1993-01-01"), length = nrow(INPC), by = "month"))
#Year base is 2Q of July 2018
#Real index
for(i in 1:329){
if (i==1){
IgaeR_18<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR_18 <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC[i,])*100)
}
}
summary(IgaeR_18)
#Change of base year
INPC <- read_excel("igae.xlsx", range = "C1:C330",col_names = TRUE)
#We want to change it to July 2019
INPC19<-INPC[,]/103.68700*100 #103.68700 is  July 2019 INPC
#Real Index 2019
for(i in 1:329){
if (i==1){
IgaeR_19<-as.numeric(igae[i,])/as.numeric(INPC19[i,])*100
} else {
IgaeR_19 <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC19[i,])*100)
}
}
summary(IgaeR_19)
#We want to change it to July 2019
INPC19<-INPC[,]/103.68700*100 #103.68700 is  July 2019 INPC
View(INPC)
View(INPC19)
for(i in 1:329){
if (i==1){
IgaeR_19<-as.numeric(igae[i,])/as.numeric(INPC19[i,])*100
} else {
IgaeR_19 <-rbind(IgaeR,as.numeric(igae[i,])/as.numeric(INPC19[i,])*100)
}
}
summary(IgaeR_19)
s=IgaeR_19-IgaeR_18
S
s
#Change of base year
INPC <- read_excel("igae.xlsx", range = "C1:C330",col_names = TRUE)
INPC <- xts(x = INPC, order.by = seq(as.Date("1993-01-01"), length = nrow(INPC), by = "month"))
#Year base is 2Q of July 2018
#Real index
for(i in 1:329){
if (i==1){
IgaeR_18<-as.numeric(igae[i,])/as.numeric(INPC[i,])*100
} else {
IgaeR_18 <-rbind(IgaeR_18,as.numeric(igae[i,])/as.numeric(INPC[i,])*100)
}
}
summary(IgaeR_18)
#We want to change it to July 2019
INPC19<-INPC[,]/103.68700*100 #103.68700 is  July 2019 INPC
#Real Index 2019
for(i in 1:329){
if (i==1){
IgaeR_19<-as.numeric(igae[i,])/as.numeric(INPC19[i,])*100
} else {
IgaeR_19 <-rbind(IgaeR_19,as.numeric(igae[i,])/as.numeric(INPC19[i,])*100)
}
}
summary(IgaeR_19)
summary(IgaeR_19-IgaeR18)
summary(IgaeR_19-IgaeR_18)
summary(IgaeR_18)
summary(IgaeR_18)
summary(IgaeR_18)
summary(IgaeR_19)
#Diferencia
summary(IgaeR_19-IgaeR_18)
T=1000 #Obs
a0=1.5 #Constant
a1=-0.9 #Beta
e=rnorm(1) #Economic Shock
y=14.9 #Initial contidion
for (t in 1:T) {
y[t+1]=a0+a1*y[t]
if (t == 500){
y[t+1]=a0+a1*y[t]+e #economic shock
}
}
plot(y,type="l")
T=1000 #Obs
a0=1.5 #Constant
a1=0.9 #Beta
e=rnorm(T) #Economic Shocks
y=0 #Initial contidion
for (t in 1:T) {
y[t+1]=a0+a1*y[t]+e[t] #economic shock
}
plot(y,type="l")
rm(list = ls()) #Clear memory
install.packages("astsa")
library(xts)
library(readxl)
library(astsa)
data <- read_excel("ARMA_ejemplos.xlsx",sheet="Ejemplos")
data <- read_excel("ARMA_ejemplos.xlsx",sheet="Ejemplos")
data <- read_excel("ARMA_ejemplos.xlsx",sheet="Ejemplos")
data <- read_excel("ARMA_ejemplos.xlsx",sheet="Ejemplos")
View(data)
ARMA_EX <- read_excel("ARMA_ejemplos.xlsx",sheet="Ejemplos")
rm(list = ls(data)) #Clear memory
data <- read_excel("ARMA_ejemplos.xlsx",sheet="Ejemplos")
# Y1 Analysis
Y1<-data$y1
########### Identify if its an AR or MA or both ############
#acf and pacf in acf2() --> Plot and print ACF and PACF of a time series
acf2(Y1)
Y1<-data$y1
for (i in 1:7){y_i=i}
print(y_I)
print(y_i)
ARMA_EX <- read_excel("ARMA_ejemplos.xlsx",sheet="Ejemplos")
Y1<-data$y1
Y2<-data$y2
Y3<-data$y1
Y1<-data$y1
for (i in 1:7){y_(i)=i}
Y1=data$y1
Y2=data$y2
Y3=data$y3
Y4=data$y4
Y5=data$y5
Y6=data$y6
Y7=data$y7
rm(i, y:i)
rm(i)
rm(y_i)
Y1=ARMA_EX$y1
Y2=ARMA_EX$y2
Y3=ARMA_EX$y3
Y4=ARMA_EX$y4
Y5=ARMA_EX$y5
Y6=ARMA_EX$y6
Y7=ARMA_EX$y7
#Vector para manejo práctico
Y_i=c("Y1", "Y2", "Y3", "Y4", "Y5", "Y6", "Y7")
print(Y_I)
print(Y_i)
for(i in Y_i){
summary(i)
}
for(i in Y_i){
summary(i)
}
Y_i[2]
for(i in 1:7){
summarise( print(Y_i)[i])
}
print(Y_i)[i]
print(Y_i)[i]
#Vector para manejo práctico
Y_i=c(Y1, Y2, Y3, Y4, Y5, Y6, Y7)
for(i in 1:7){
summarise( print(Y_i)[i])
}
acf2(Y1)
acf2(Y2)
acf2()
acf2(Y1)
acf2(Y2)
acf2(Y3)
acf2(Y4)
acf2(Y5)
acf2(Y6)
acf2(Y7)
$Y_1$*
*$Y_1$*
acf2(Y1)
```{r, echo=FALSE, message=FALSE}
help("acf2")
Para identificar de forma simple el tipo de modelo acudimos al comando *acf2* que produce tanto una gráfica como una impresión sobre el ACF y PACF. Como una nota del comando, el lag cero para el ACF no se presenta. Así también, es posible no presentar la gráfica (imprimirá entonces los datos únicamente) mediante el parámetro *plot=FALSE*.
load("C:/Users/socap/Downloads/wiot_r_Nov16/WIOT2005_October16_ROW.RData")
View(wiot)
library(readxl)
library(xts)
library(dplyr)
library(dygraphs)
library(seasonal)
library(ggplot2)
setwd("C:/Users/socap/OneDrive/Documentos/GitHub/crisis-debt-rates")
DATA=read_xlsx("DEBT85-20.xlsx", col_names=FALSE, na="NA")
DATA=DATA[2:434,] #Removes headers
colnames(DATA)=DATA[1,]
colnames(DATA)     #Renames columns
DATA=DATA[2:433,] #Removes colname row
# TROUBLESHOOTING
#Converting columns into numeric type.
DATA$INTERNAL_DEBT=as.numeric(as.character(DATA$INTERNAL_DEBT))
DATA$AVG_TIIE28=as.numeric(as.character(DATA$AVG_TIIE28))
DATA$AVG_TIIE91=as.numeric(as.character(DATA$AVG_TIIE91))
DATA$CETES_28=as.numeric(as.character(DATA$CETES_28))
DATA$INPC=as.numeric(as.character(DATA$INPC))
#We will ignore NET_DEBT
#Date data is not being read properly.
dates=seq(from=as.Date("1985-01-01"), to=as.Date("2020-12-01"), by="month")
DATA$Dates=dates #Redifines date data.
summary(DATA)
#Obtaining real values for debt.
base= 109.27100 #INPC, December 2015 as base year.
# Alternative is 99.90910
DATA$INPC=DATA$INPC/base *100 #We create the deflator coefficient
DATA$INTERNAL_DEBT=DATA$INTERNAL_DEBT/DATA$INPC #Deflated Debt
#Obtaining real values for the Interest Rates.
#data$AVG_TIIE91=data$AVG_TIIE91/data$INPC
# 2. Time Series  ---------------------------------------------------------
# 1997-2020.
dates=dates[145:432]
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[145:432,] # Timeframe 1997-2020.
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")] #Reduces variables
#Deseasonalize
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
inData <- seas(Des_data) #seas function.
Des_data=as.data.frame(inData)
#?
#DATA<-cbind(DATA$INTERNAL_DEBT,DATA$AVG_TIIE91)
#colnames(DATA) <-c("internal debt","interest rate")
#plot(DATA, main="Internal rate and interest rate",xlab="Año",ylab="$")
#Data = as.data.frame(DATA)
#We add the seasonal adjusted data to our data.
DATA<-cbind(dates, DATA, Des_data$INTERNAL_DEBT.seasonaladj, Des_data$AVG_TIIE91.seasonaladj)
colnames(DATA)= c("dates", "INTERNAL_DEBT", "AVG_TIIE91", "INTERNAL_DEBT_SA", "AVG_TIIE91_SA")
# 3. Graphs ---------------------------------------------------------------
#ggplot2 - General graph----------------------------
# Start with a usual ggplot2 call:
# ggplot(db, aes(x=date, y=as.numeric(`AVG_TIIE28`))) +
#   #Data= DATA
plot(x=DATA$date,y=DATA$INTERNAL_DEBT,type="l")
plot(x=DATA$date,y=DATA$AVG_TIIE91,type="l")
plot(x=DATA$date,y=DATA$INTERNAL_DEBT_SA,type="l") #Seasonal Adjusted
plot(x=DATA$date,y=DATA$AVG_TIIE91_SA,type="l") #Seasonal Adjusted
#   # Custom the Y scales:
#   scale_y_continuous(
#
#     # Features of the first axis
#     name = "First Axis",
#
#     # Add a second axis and specify its features
#     sec.axis = sec_axis( trans=~.*100, name="Second Axis")
#   ) +
#
#   theme_ipsum()
coeff <- as.numeric(1000000)
rateColor <- "#69b3a2"
debtColor <- rgb(0.2, 0.6, 0.9, 1)
ggplot(DATA, aes(x=dates))+
geom_line( aes(y=as.numeric(AVG_TIIE91)), size=1, color=rateColor) +
geom_line( aes(y=INTERNAL_DEBT/coeff), size=1, color=debtColor) +  # Divide by 10 to get the same range
>>>>>>> Stashed changes
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
<<<<<<< Updated upstream
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
#19 months before, 40 months after the cero period in the financial crisis of august, 2008.
two_gether=full_join(crisis_08, crisis_20, by = "T")
two_gether=two_gether[1:40,]
rateColor <- "#69B3A2"
debtColor <- "#718EB6"
rateColor1 = "#277E6B"
debtColor1 = "#305280"
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="#69B3A2"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
scale_color_discrete(name = "debt", labels = c("1", "2", "3", "4"))+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="#69B3A2"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
#Legend
scale_color_manual(values = c(
'Y1' = 'darkblue',
'Y2' = 'red',
'3'='3a',
'4'='4a')) +
labs(color = 'Y series')
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="#69B3A2"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
#Legend
scale_color_manual(values = c(
'Y1' = 'darkblue',
'Y2' = 'red',
'3'='3a',
'4'='4a')) +
labs(color = 'Y series')+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="#69B3A2"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
#Legend
scale_color_manual(values = c(
rateColor <- "#69B3A2",
debtColor <- "#718EB6",
rateColor1 = "#277E6B",
debtColor1 = "#305280")) +
labs(color = 'Y series')+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
#19 months before, 40 months after the cero period in the financial crisis of august, 2008.
two_gether=full_join(crisis_08, crisis_20, by = "T")
two_gether=two_gether[1:40,]
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="#69B3A2"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
#Legend
scale_color_manual(values = c(
rateColor <- "#69B3A2",
debtColor <- "#718EB6",
rateColor1 = "#277E6B",
debtColor1 = "#305280")) +
labs(color = 'Y series')+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
#19 months before, 40 months after the cero period in the financial crisis of august, 2008.
two_gether=full_join(crisis_08, crisis_20, by = "T")
two_gether=two_gether[1:40,]
two_gether=two_gether[1:30,]
#19 months before, 40 months after the cero period in the financial crisis of august, 2008.
two_gether=full_join(crisis_08, crisis_20, by = "T")
two_gether=two_gether[1:30,]
two_gether=ggplot(s, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="#69B3A2"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
#Legend
scale_color_manual(values = c(
rateColor <- "#69B3A2",
debtColor <- "#718EB6",
rateColor1 = "#277E6B",
debtColor1 = "#305280")) +
labs(color = 'Y series')+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
#19 months before, 40 months after the cero period in the financial crisis of august, 2008.
two_gether=full_join(crisis_08, crisis_20, by = "T")
two_gether=two_gether[1:40,]
two_gether=ggplot(two_gether, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="#69B3A2"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
#Legend
scale_color_manual(values = c(
rateColor <- "#69B3A2",
debtColor <- "#718EB6",
rateColor1 = "#277E6B",
debtColor1 = "#305280")) +
labs(color = 'Y series')+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
two_gether=ggplot(two_gether, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color="#69B3A2"), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
#Legend
scale_color_manual(values = c(
'2008 Interbank Rate' <- "#69B3A2",
'2008 Public Debt' <- "#718EB6",
'2020 Interbank Rate' = "#277E6B",
' 2020 Public Debt' = "#305280")) +
labs(color = 'Variables')+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
two_gether=ggplot(two_gether, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.x), color='2008 Interbank Rate'), size=1, show.legend = TRUE) +  #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.x/coeff, color="#718EB6"), size=1, show.legend = TRUE) + #2008 DEBT
geom_line( aes(y=as.numeric(AVG_TIIE91_EE.y), color="#277E6B"), size=1, show.legend = TRUE) + #2020 TIIE
geom_line( aes(y=INTERNAL_DEBT_EE.y/coeff, color="#305280"), size=1, show.legend = TRUE) + #2020 DEBT
#Legend
scale_color_manual(values = c(
'2008 Interbank Rate' <- "#69B3A2",
'2008 Public Debt' <- "#718EB6",
'2020 Interbank Rate' = "#277E6B",
' 2020 Public Debt' = "#305280")) +
labs(color = 'Variables')+
scale_y_continuous(
# Features of the first axis
name=NULL, breaks = seq(-10,10,1.5), n.breaks =8, minor_breaks = NULL,
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff,  breaks = seq(-1000000000,1000000000,150000000))
) +
theme_ipsum() +
geom_vline(xintercept=0, color="grey", size=1, linetype="dashed")+
annotate(geom="text", x=0, y=-15,
label="Crisis starts", size=4)+
theme(
axis.title.y = element_text(color = "black", size=13)
#axis.title.y.right = element_text(color = debtColor, size=13)
) +
#ggtitle("Title") +
scale_x_discrete() +
labs(title="Title")+
theme(axis.text.x=element_text(angle=60, hjust=1), axis.title.x = element_text(size=13),
legend.position = "bottom")
#s
two_gether
=======
#theme_ipsum() +  No está funcionando esta línea :(
theme(
axis.title.y = element_text(color = rateColor, size=13),
axis.title.y.right = element_text(color = debtColor, size=13)
) +
ggtitle("Title") +
scale_x_date(date_labels = "%Y-%m", date_breaks = "2 year") +
theme(axis.text.x=element_text(angle=60, hjust=1))
#Graph as Time Series.
DATA_TS=xts(x=DATA, order.by = dates) #xts object for relevant period (1997-2020)
DATA_TS=DATA_TS[,2:ncol(DATA_TS)] #Removes redundant column (dates)
# Another plot (USELESS)
dygraph(DATA_TS[,3:4], main= "Debt!") %>%
dyOptions(labelsUTC = TRUE, fillGraph=TRUE, fillAlpha=0.1, drawGrid = FALSE, colors="#D8AE5A") %>%
dyRangeSelector() %>%
dyCrosshair(direction = "vertical") %>%
dyHighlight(highlightCircleSize = 5, highlightSeriesBackgroundAlpha = 0.2, hideOnMouseOut = FALSE)  %>%
dyRoller(rollPeriod = 1)
# 4. Event Studies --------------------------------------------------------
#We subset by years.
crisis_08=DATA_TS[c("2007","2008", "2009", "2010", "2011")]
dates_08=seq(from=as.Date("2007-01-01"), to=as.Date("2011-12-01"), by="month")
crisis_20=DATA_TS[c("2019", "2020")]
dates_20=seq(from=as.Date("2019-01-01"), to=as.Date("2020-12-01"), by="month")
#We want to plot the year before the beginning of each crisis and the three years afterwards.
T=1:60 #5 years= 60 months.
#We pair dates to each month's position.
crisis_08$T=T
crisis_20$T=T[1:nrow(crisis_20)] #24 obs. for the 2020 crisis.
#Disband xts
crisis_08=(as.data.frame(crisis_08))
crisis_20=(as.data.frame(crisis_20))
#Compensating shorter data frame
crisis_20=rbind(crisis_20, crisis_20[25:60, ])
crisis_20$T=T #60 obs. for the 2020 crisis.
#Graph
coeff <- as.numeric(1000000)
rateColor <- "#69b3a2"
debtColor <- rgb(0.2, 0.6, 0.9, 1)
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff, name="Internal Debt")
) +
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 and 2020 economic crises.",
caption="Data: Banco de México, Sistema de Información Económica | Karina Pérez, Sebastián Ocampo")
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff, name="Internal Debt")
) +
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 and 2020 economic crises.",
caption="Sources: Banco de México, Sistema de Información Económica | Authors: Karina Pérez, Sebastián Ocampo")
# Features of the first axis
name = "Interest Rate",  guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=1) )+
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 and 2020 economic crises.",
caption="Sources: Banco de México, Sistema de Información Económica | Authors: Karina Pérez, Sebastián Ocampo")
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",  guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=1) )+
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 and 2020 economic crises.",
caption="Sources: Banco de México, Sistema de Información Económica | Authors: Karina Pérez, Sebastián Ocampo")
+
#theme_ipsum() +  No está funcionando esta línea :(
theme(
axis.title.y = element_text(color = rateColor, size=13),
axis.title.y.right = element_text(color = debtColor, size=13)
) +
ggtitle("Title") +
legend.position = c(0.7, 0.09))+
# scale_x_date(date_labels = "%Y-%m", date_breaks = "2 year") +
theme(axis.text.x=element_text(angle=60, hjust=1))
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",
guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=1) )+
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 and 2020 economic crises.",
caption="Sources: Banco de México, Sistema de Información Económica | Authors: Karina Pérez, Sebastián Ocampo")
# Features of the first axis
name = "Interest Rate",
guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=2) )+
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 and 2020 economic crises.",
caption="Sources: Banco de México, Sistema de Información Económica | Authors: Karina Pérez, Sebastián Ocampo")
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",
guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=2) )+
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 and 2020 economic crises.",
caption="Sources: Banco de México, Sistema de Información Económica | Authors: Karina Pérez, Sebastián Ocampo")
help("guide_legend")
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",  guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=1) )
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",  guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=1) )
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",  guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=1) )
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff, name="Internal Debt"))
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",  guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=1) )
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",  guide = guide_legend( keyheight = unit(3, units = "mm"), keywidth=unit(12, units = "mm"), label.position = "bottom", title.position = 'top', nrow=1) )
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff, name="Internal Debt")
) +
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 and 2020 economic crises.",
caption="Sources: Banco de México, Sistema de Información Económica | Authors: Karina Pérez, Sebastián Ocampo")
#2008
ggplot(crisis_08, aes(x=T))+
geom_line( aes(y=as.numeric(AVG_TIIE91_SA)), size=1, color=rateColor) + #2008 TIIE
geom_line( aes(y=INTERNAL_DEBT_SA/coeff), size=1, color=debtColor) +  #2008 DEBT
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff, name="Internal Debt")
) +
labs(title="Interbank Interest Rates and Internal Public Debt Under Economic Stress",
subtitle="A visual analysis of the relationship between public expenditure and the loan market in Mexico during the 2008 economic crisis.",
caption="Sources: BANXICO, Sistema de Información Económica | Authors: Karina Pérez, Sebastián Ocampo")
>>>>>>> Stashed changes
