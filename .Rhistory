####################       Impact on Rates      ################################
####################              and           ################################
####################       Internal Debt        ################################
####################     Data Visualization     ################################
################################################################################
################################################################################
###################     Anna Karina PÃ©rez PeÃ±a      ############################
###################    SebastiÃ¡n Ocampo Palacios    ############################
################################################################################
--------------------------------------------------------------------------------
# 1. Libraries & data -----------------------------------------------------
library(readxl)
library(xts)
library(dplyr)
library(dygraphs)
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
View(data)
colnames(data)=c("date", "internal debt","total net debt", "AVG_TIIE28", "AVG_TIIE91", "cetes_28", "INPC")
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
data=data[,-c(3, 4, 6)]
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
View(data)
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
colnames(data)=c("date", "internal debt","total net debt", "AVG_TIIE28", "AVG_TIIE91", "cetes_28", "INPC")
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
View(data)
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
colnames(data)=c("date", "internal debt","total net debt", "AVG_TIIE28", "AVG_TIIE91", "cetes_28", "INPC")
View(data)
data[,5]=data$INPC/99.90910
data$`internal debt`=data$`internal debt`/data$INPC
View(data)
data$AVG_TIIE91=data$AVG_TIIE91/data$INPC
View(data)
View(data)
data=data[,-c(1,4,5)]
View(data)
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
#db <- xts(x = db, order.by= seq(as.Date("1995-03-01", "%Y-%m-%d"), length=286, by="months"))
colnames(data)=c("date", "internal debt","total net debt", "AVG_TIIE28", "AVG_TIIE91", "cetes_28", "INPC")
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
data=data[,-c(3, 4, 6)]
#Deflactando------------------------
data[,5]=data$INPC/99.90910
data$`internal debt`=data$`internal debt`/data$INPC
data$AVG_TIIE91=data$AVG_TIIE91/data$INPC
data=data[,-c(1,4,5)]
View(data)
help(xts)
View(DATA)
View(Data)
View(DATA)
DATA_TS=xts(x=DATA[145:432,], order.by = dates) #xts object for relevant period (1997-2020)
dates[145]
dates[145:432]
DATA_TS=xts(x=DATA[145:432,], order.by = dates[145:432]) #xts object for relevant period (1997-2020)
View(DATA_TS)
DATA_TS=DATA_TS[,2:ncol(DATA_TS)] #Removes redundant column (dates)
View(DATA_TS)
#Desestacionalizar
Data <- ts(coredata(DATA_TS),frequency=12,start=c(1997,1))
View(Data)
seas(DATA_TS)
seas
library(seasonal)
library(seasonal)
install.packages("seasonal")
seas(DATA)
seasonal::seas(Data)
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
#db <- xts(x = db, order.by= seq(as.Date("1995-03-01", "%Y-%m-%d"), length=286, by="months"))
colnames(data)=c("date", "internal debt","total net debt", "AVG_TIIE28", "AVG_TIIE91", "cetes_28", "INPC")
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
data=data[,-c(3, 4, 6)]
#Deflactando------------------------
data[,5]=data$INPC/99.90910
data$`internal debt`=data$`internal debt`/data$INPC
data$AVG_TIIE91=data$AVG_TIIE91/data$INPC
data=data[,-c(1,4,5)]
#Desestacionalizar
Data <- ts(coredata(data),frequency=12,start=c(1997,1))
View(Data)
Data <- seas(as.ts(Data))
DATA_TS=xts(x=DATA[145:432,], order.by = dates[145:432]) #xts object for relevant period (1997-2020)
DATA_TS=DATA_TS[,2:ncol(DATA_TS)] #Removes redundant column (dates)
View(DATA_TS)
#Desestacionalizar
Des_data <- ts(coredata(DATA_TS),frequency=12,start=c(1997,1))
View(Des_data)
View(DATA_TS)
Data <- seas(as.ts(Data))
library(seasonal)
inData <- seas(as.ts(Des_data))
#Desestacionalizar
Des_data <- ts(coredata(DATA_TS),frequency=12,start=c(1997,1))
inData <- seas(as.ts(Des_data))
inData <- seas(as.ts(Des_data))
inData <- seas(DATA_TS)
inData <- seas(DATA_TS)
#Desestacionalizar
Des_data <- ts(coredata(DATA_TS),frequency=12,start=c(1997,1))
Des_data <- ts(coredata(DATA_TS),frequency=12,start=c(1997,1))
inData <- seas(as.ts(Des_data))
library(readxl)
library(xts)
library(dplyr)
library(dygraphs)
setwd("C:/Users/socap/OneDrive/Documentos/GitHub/crisis-debt-rates")
DATA=read_xlsx("DEBT85-20.xlsx", col_names=FALSE, na="NA")
DATA=DATA[2:434,] #Removes headers
colnames(DATA)=DATA[1,]
colnames(DATA)     #Renames columns
DATA=DATA[2:433,] #Removes colname row
# TROUBLESHOOTING
#Converting columns into numeric type.
DATA$INTERNAL_DEBT=as.numeric(as.character(DATA$INTERNAL_DEBT))
DATA$AVG_TIIE28=as.numeric(as.character(DATA$AVG_TIIE28))
DATA$AVG_TIIE91=as.numeric(as.character(DATA$AVG_TIIE91))
DATA$CETES_28=as.numeric(as.character(DATA$CETES_28))
DATA$INPC=as.numeric(as.character(DATA$INPC))
#We will ignore NET_DEBT
#Date data is not being read properly.
dates=seq(from=as.Date("1985-01-01"), to=as.Date("2020-12-01"), by="month")
DATA$Dates=dates #Redifines date data.
summary(DATA)
#Obtaining real values for debt.
base= 109.27100 #INPC, December 2015 as base year.
# Alternative is 99.90910
DATA$INPC=DATA$INPC/base *100 #We create the deflator coefficient
DATA$INTERNAL_DEBT=DATA$INTERNAL_DEBT/DATA$INPC #Deflated Debt
Des_data <- ts(coredata(DATA_TS),frequency=12,start=c(1997,1))
inData <- seas(as.ts(Des_data))
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
colnames(data)=c("date", "internal debt","total net debt", "AVG_TIIE28", "AVG_TIIE91", "cetes_28", "INPC")
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
data=data[,-c(3, 4, 6)]
data[,5]=data$INPC/99.90910
data$`internal debt`=data$`internal debt`/data$INPC
data$AVG_TIIE91=data$AVG_TIIE91/data$INPC
data=data[,-c(1,4,5)]
#Desestacionalizar
Data <- ts(coredata(data),frequency=12,start=c(1997,1))
Data <- seas(as.ts(Data))
#Desestacionalizar
Data <- ts(coredata(data),frequency=12,start=c(1997,1))
Data <- seas(as.ts(Data))
View(Data)
View(Data)
Data<-cbind(Data$internaldebt$data[,3], Data$AVG_TIIE91$data[,3])
colnames(Data) <-c("internal debt","interest rate")
plot(Data, main="Internal rate and interest rate",xlab="AÃ±o",ylab="$")
Data<-as.data.frame(Data)
View(Data)
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
colnames(data)=c("date", "internal debt","total net debt", "AVG_TIIE28", "AVG_TIIE91", "cetes_28", "INPC")
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
data=data[,-c(3, 4, 6)]
data[,5]=data$INPC/99.90910
data$`internal debt`=data$`internal debt`/data$INPC
data$AVG_TIIE91=data$AVG_TIIE91/data$INPC
data=data[,-c(1,4,5)]
View(data)
data=data[,-c(1,4,5)]
View(data)
DATA=read_xlsx("DEBT85-20.xlsx", col_names=FALSE, na="NA")
DATA=DATA[2:434,] #Removes headers
colnames(DATA)=DATA[1,]
colnames(DATA)     #Renames columns
DATA=DATA[2:433,] #Removes colname row
# TROUBLESHOOTING
#Converting columns into numeric type.
DATA$INTERNAL_DEBT=as.numeric(as.character(DATA$INTERNAL_DEBT))
DATA$AVG_TIIE28=as.numeric(as.character(DATA$AVG_TIIE28))
DATA$AVG_TIIE91=as.numeric(as.character(DATA$AVG_TIIE91))
DATA$CETES_28=as.numeric(as.character(DATA$CETES_28))
DATA$INPC=as.numeric(as.character(DATA$INPC))
#We will ignore NET_DEBT
#Date data is not being read properly.
dates=seq(from=as.Date("1985-01-01"), to=as.Date("2020-12-01"), by="month")
DATA$Dates=dates #Redifines date data.
summary(DATA)
#Obtaining real values for debt.
base= 109.27100 #INPC, December 2015 as base year.
# Alternative is 99.90910
DATA$INPC=DATA$INPC/base *100 #We create the deflator coefficient
DATA$INTERNAL_DEBT=DATA$INTERNAL_DEBT/DATA$INPC #Deflated Debt
#Obtaining real values for the Interest Rates.
#data$AVG_TIIE91=data$AVG_TIIE91/data$INPC
View(DATA)
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1))
View(Des_data)
str(Des_data)
View(DATA)
Des_data <- ts(coredata(DATA),frequency=12,start=c(1985,1))
str(Des_data)
View(DATA)
View(Des_data)
coredata(DATA)
Des_data <- ts(coredata(DATA),frequency=12,start=c(1985,1))
as.data.frame(Des_data)
View(Des_data)
str(Des_data)
Des_data["2021"]
Des_data["2020"]
Des_data["2000"]
Des_data <- ts(coredata(DATA),frequency=12,start=c(1985,1))
inData <- seas(as.ts(Des_data))
Data<-cbind(Data$internaldebt$data[,3], Data$AVG_TIIE91$data[,3])
colnames(Data) <-c("internal debt","interest rate")
plot(Data, main="Internal rate and interest rate",xlab="AÃ±o",ylab="$")
Data<-as.data.frame(Data)
help(seas)
View(DATA)
View(DATA)
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[c(´INTERNAL_DEBT´, ´AVG_TIIE91)]
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91"]
Des_data <- ts(coredata(DATA),frequency=12,start=c(1985,1))
inData <- seas(as.ts(Des_data))
Data<-cbind(Data$internaldebt$data[,3], Data$AVG_TIIE91$data[,3])
colnames(Data) <-c("internal debt","interest rate")
plot(Data, main="Internal rate and interest rate",xlab="AÃ±o",ylab="$")
Data<-as.data.frame(Data)
DATA_TS=xts(x=DATA[145:432,], order.by = dates[145:432]) #xts object for relevant period (1997-2020)
DATA_TS=DATA_TS[,2:ncol(DATA_TS)] #Removes redundant column (dates)
Dm<-seas(D[,1],x11="") #datos son una columna
#ajuste automatico: corrige outliers transitorios/permanentes
sa<-Dm[["data"]][,"seasonaladj"] #serie ajustada por estacionalidad
tr<-Dm[["data"]][,"trend"] #serie de tendencia
plot(Dm)
#Gráfica----------------------------
Date<-seq(as.Date("1997-01-01"), as.Date("2020-12-01"), by="month")
Data<-cbind(Date, Data)
# Start with a usual ggplot2 call:
# ggplot(db, aes(x=date, y=as.numeric(`AVG_TIIE28`))) +
#   #Data---------------------------------
data=read_excel("DEBT85-20.xlsx", range = "A147:G434", col_names = FALSE)
#db <- xts(x = db, order.by= seq(as.Date("1995-03-01", "%Y-%m-%d"), length=286, by="months"))
colnames(data)=c("date", "internal debt","total net debt", "AVG_TIIE28", "AVG_TIIE91", "cetes_28", "INPC")
plot(x=data$date,y=data$`internal debt`,type="l")
plot(x=data$date,y=data$AVG_TIIE91,type="l")
data=data[,-c(3, 4, 6)]
#   # Custom the Y scales:
#   scale_y_continuous(
#
#     # Features of the first axis
#     name = "First Axis",
#
#     # Add a second axis and specify its features
#     sec.axis = sec_axis( trans=~.*100, name="Second Axis")
#   ) +
#
#   theme_ipsum()
coeff <- as.numeric(100000000)
rateColor <- "#69b3a2"
debtColor <- rgb(0.2, 0.6, 0.9, 1)
ggplot(Data, aes(x=Date))+
geom_line( aes(y=as.numeric(`interest rate`)), size=1, color=rateColor) +
geom_line( aes(y=`internal debt`/coeff), size=1, color=debtColor) +  # Divide by 10 to get the same range than the temperature
scale_y_continuous(
# Features of the first axis
name = "Interest Rate",
# Add a second axis and specify its features
sec.axis = sec_axis(~.*coeff, name="Internal Debt")
) +
theme_ipsum() +
theme(
axis.title.y = element_text(color = rateColor, size=13),
axis.title.y.right = element_text(color = debtColor, size=13)
) +
ggtitle("Title") +
scale_x_date(date_labels = "%Y-%m", date_breaks = "2 year") +
theme(axis.text.x=element_text(angle=60, hjust=1))
# 3. Graphs ---------------------------------------------------------------
plot(x=dates, y=DATA_TS$INTERNAL_DEBT, col="red")
par(new=TRUE)
plot(x=dates, y=DATA_TS$TIIE91, col="blue")
par(new=TRUE)
plot(x=dates, y=DATA_TS$CETES_28 col="green")
par(new=TRUE)
plot(x=dates, y=DATA_TS$TIIE_28 col="brown")
# Finally the plot
dygraph(DATA_TS[,1:3], main= "Debt!") %>%
dyOptions(labelsUTC = TRUE, fillGraph=TRUE, fillAlpha=0.1, drawGrid = FALSE, colors="#D8AE5A") %>%
dyRangeSelector() %>%
dyCrosshair(direction = "vertical") %>%
dyHighlight(highlightCircleSize = 5, highlightSeriesBackgroundAlpha = 0.2, hideOnMouseOut = FALSE)  %>%
dyRoller(rollPeriod = 1)
##Ejemplos Erik-Luis
dygraph(FE, main = "Total mexican internal debt: nominal amount in pesos by category")%>%
dySeries("Total_Debt",strokeWidth = 3)%>%
dySeries("Other_Values", label = "Intern Debt in dollars", strokeWidth = 2)%>%
dyAxis("y", label = "Debt (thousands of millions)")%>%
dyAxis("x", label = "Dates" )%>%
dyOptions(axisLineWidth = 1.5)%>%
dyEvent("1994-1-1", "1994-Begining of the Debt Crisis", labelLoc = "top")%>%
dyEvent("1997-1-1", "1997-End of the Debt Crisis", labelLoc = "top")
dygraph(FF, main = "Tesobonos and other types of debt during tequila crisis")%>%
dySeries("Total_Debt",strokeWidth = 4)%>%
dySeries("Tesobonos", strokeWidth = 4)%>%
dyAnnotation("1993-05-01", text = "This series represnt intern debt in dollar, more
than half of the intern debt was in dollars. Tesobonos is part of it")%>%
dyAxis("y", label = "Debt (thousands of millions)")%>%
dyAxis("x", label = "Dates" )%>%
dyOptions(axisLineWidth = 1.5)%>%
dyRangeSelector(dateWindow = c("1993-01-01", "1997-12-01"))
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")]
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")]
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")]
inData <- seas(as.ts(Des_data))
Des_data <- ts(coredata(DATA),frequency=12,start=c(1985,1))
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")]
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")]
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")]
Des_data <- ts(coredata(DATA),frequency=12,start=c(1985,1))
inData <- seas(as.ts(Des_data))
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")]
View(DATA)
View(DATA)
DATA=read_xlsx("DEBT85-20.xlsx", col_names=FALSE, na="NA")
DATA=DATA[2:434,] #Removes headers
colnames(DATA)=DATA[1,]
colnames(DATA)     #Renames columns
DATA=DATA[2:433,] #Removes colname row
#Converting columns into numeric type.
DATA$INTERNAL_DEBT=as.numeric(as.character(DATA$INTERNAL_DEBT))
DATA$AVG_TIIE28=as.numeric(as.character(DATA$AVG_TIIE28))
DATA$AVG_TIIE91=as.numeric(as.character(DATA$AVG_TIIE91))
DATA$CETES_28=as.numeric(as.character(DATA$CETES_28))
DATA$INPC=as.numeric(as.character(DATA$INPC))
#Date data is not being read properly.
dates=seq(from=as.Date("1985-01-01"), to=as.Date("2020-12-01"), by="month")
DATA$Dates=dates #Redifines date data.
summary(DATA)
View(DATA)
View(DATA)
DATA=DATA[145:432,]
View(DATA)
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1))
View(Des_data)
str(Des_data)
help(ts)
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
str(Des_data)
inData <- seas(as.ts(Des_data))
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 1))
str(Des_data)
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
inData <- seas(as.ts(Des_data))
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
inData <- seas(Des_data)
Data<-cbind(Data$internaldebt$data[,3], Data$AVG_TIIE91$data[,3])
colnames(Data) <-c("internal debt","interest rate")
plot(Data, main="Internal rate and interest rate",xlab="AÃ±o",ylab="$")
Data<-as.data.frame(Data)
inData <- seas(Des_data)
View(Des_data)
DATA=DATA[145:432,] # Timeframe 1997-2020.
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")] #Reduces variables
View(DATA)
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
inData <- seas(Des_data)
Data<-cbind(Data$internaldebt$data[,3], Data$AVG_TIIE91$data[,3])
colnames(Data) <-c("internal debt","interest rate")
plot(Data, main="Internal rate and interest rate",xlab="AÃ±o",ylab="$")
DATA_TS=xts(x=DATA[145:432,], order.by = dates[145:432]) #xts object for relevant period (1997-2020)
DATA_TS=DATA_TS[,2:ncol(DATA_TS)] #Removes redundant column (dates)
DATA=DATA[145:432,] # Timeframe 1997-2020.
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")] #Reduces variables
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
inData <- seas(Des_data)
Data<-cbind(Data$internaldebt$data[,3], Data$AVG_TIIE91$data[,3])
inData <- seas(Des_data[,1])
View(Des_data)
#Deseasonalize
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
View(Des_data)
DATA=read_xlsx("DEBT85-20.xlsx", col_names=FALSE, na="NA")
DATA=DATA[2:434,] #Removes headers
colnames(DATA)=DATA[1,]
colnames(DATA)     #Renames columns
DATA=DATA[2:433,] #Removes colname row
# TROUBLESHOOTING
#Converting columns into numeric type.
DATA$INTERNAL_DEBT=as.numeric(as.character(DATA$INTERNAL_DEBT))
DATA$AVG_TIIE28=as.numeric(as.character(DATA$AVG_TIIE28))
DATA$AVG_TIIE91=as.numeric(as.character(DATA$AVG_TIIE91))
DATA$CETES_28=as.numeric(as.character(DATA$CETES_28))
DATA$INPC=as.numeric(as.character(DATA$INPC))
#We will ignore NET_DEBT
#Date data is not being read properly.
dates=seq(from=as.Date("1985-01-01"), to=as.Date("2020-12-01"), by="month")
DATA$Dates=dates #Redifines date data.
summary(DATA)
#Obtaining real values for debt.
base= 109.27100 #INPC, December 2015 as base year.
# Alternative is 99.90910
DATA$INPC=DATA$INPC/base *100 #We create the deflator coefficient
DATA$INTERNAL_DEBT=DATA$INTERNAL_DEBT/DATA$INPC #Deflated Debt
DATA_TS=xts(x=DATA[145:432,], order.by = dates[145:432]) #xts object for relevant period (1997-2020)
DATA_TS=DATA_TS[,2:ncol(DATA_TS)] #Removes redundant column (dates)
DATA=DATA[145:432,] # Timeframe 1997-2020.
View(DATA)
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")] #Reduces variables
View(DATA)
#Deseasonalize
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
View(Des_data)
inData <- seas(Des_data[,1])
View(inData)
summary(inData)
Des_data
inData <- seas(Des_data)
View(inData)
inData
View(DATA)
View(DATA)
Data<-cbind(DATA$INTERNAL_DEBT,DATA$AVG_TIIE91)
DATA<-cbind(DATA$INTERNAL_DEBT,DATA$AVG_TIIE91)
View(DATA)
View(DATA)
colnames(DATA) <-c("internal debt","interest rate")
plot(Data, main="Internal rate and interest rate",xlab="AÃ±o",ylab="$")
DATA<-cbind(DATA$INTERNAL_DEBT,DATA$AVG_TIIE91) #?
colnames(DATA) <-c("internal debt","interest rate")
plot(Data, main="Internal rate and interest rate",xlab="AÃ±o",ylab="$")
Data<-as.data.frame(Data)
View(DATA)
Data<-as.data.frame(DATA)
View(DATA)
Data = as.data.frame(DATA)
DATA=read_xlsx("DEBT85-20.xlsx", col_names=FALSE, na="NA")
DATA=DATA[2:434,] #Removes headers
colnames(DATA)=DATA[1,]
colnames(DATA)     #Renames columns
DATA=DATA[2:433,] #Removes colname row
# TROUBLESHOOTING
#Converting columns into numeric type.
DATA$INTERNAL_DEBT=as.numeric(as.character(DATA$INTERNAL_DEBT))
DATA$AVG_TIIE28=as.numeric(as.character(DATA$AVG_TIIE28))
DATA$AVG_TIIE91=as.numeric(as.character(DATA$AVG_TIIE91))
DATA$CETES_28=as.numeric(as.character(DATA$CETES_28))
DATA$INPC=as.numeric(as.character(DATA$INPC))
#We will ignore NET_DEBT
#Date data is not being read properly.
dates=seq(from=as.Date("1985-01-01"), to=as.Date("2020-12-01"), by="month")
DATA$Dates=dates #Redifines date data.
summary(DATA)
#Obtaining real values for debt.
base= 109.27100 #INPC, December 2015 as base year.
# Alternative is 99.90910
DATA$INPC=DATA$INPC/base *100 #We create the deflator coefficient
DATA$INTERNAL_DEBT=DATA$INTERNAL_DEBT/DATA$INPC #Deflated Debt
#Obtaining real values for the Interest Rates.
#data$AVG_TIIE91=data$AVG_TIIE91/data$INPC
# 2. Time Series  ---------------------------------------------------------
# 1997-2020.
#We need to deseasonalize our data using the package "seasonal".
DATA_TS=xts(x=DATA[145:432,], order.by = dates[145:432]) #xts object for relevant period (1997-2020)
DATA_TS=DATA_TS[,2:ncol(DATA_TS)] #Removes redundant column (dates)
DATA=DATA[145:432,] # Timeframe 1997-2020.
DATA=DATA[c("INTERNAL_DEBT", "AVG_TIIE91")] #Reduces variables
#Deseasonalize
Des_data <- ts(coredata(DATA),frequency=12,start=c(1997,1), end = c(2020, 12))
inData <- seas(Des_data) #seas function.
View(Data)
#DATA<-cbind(DATA$INTERNAL_DEBT,DATA$AVG_TIIE91) #?
#colnames(DATA) <-c("internal debt","interest rate")
plot(DATA, main="Internal rate and interest rate",xlab="Año",ylab="$")
#DATA<-cbind(DATA$INTERNAL_DEBT,DATA$AVG_TIIE91) #?
#colnames(DATA) <-c("internal debt","interest rate")
plot(DATA, main="Internal rate and interest rate",xlab="Año",ylab="$")
plot(x=dates, y=DATA_TS$INTERNAL_DEBT, col="red")
par(new=TRUE)
plot(x=dates, y=DATA_TS$TIIE91, col="blue")
par(new=TRUE)
plot(x=dates, y=DATA_TS$CETES_28 col="green")
par(new=TRUE)
plot(x=dates, y=DATA_TS$TIIE_28 col="brown")
plot(x=dates, y=DATA_TS$TIIE_28 col="brown")
plot(x=dates, y=DATA_TS$INTERNAL_DEBT, col="red")
par(new=TRUE)
plot(x=dates, y=DATA_TS$TIIE91, col="blue")
plot.xts(DATA)
plot.xts(DATA_TS)
